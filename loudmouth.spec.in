%define ver @VERSION@
%define name @PACKAGE@

Summary: Loadmouth is a Jabber client written in C.
Name: %name
Version: %ver
Release: cf1
URL: http://people.codefactory.se/~micke/loudmouth
Source0: %{name}-%{ver}.tar.gz
License: LGPL
Group: System Environment/Libraries
BuildRoot: %{_tmppath}/%{name}-root
Requires: glib2 >= @GLIB2_REQUIRED@
BuildRequires: glib2-devel >= @GLIB2_REQUIRED@

%description
Loudmouth is a lightweight and easy-to-use C library for programming with the Jabber protocol. It's designed to be easy to get started with and yet extensible to let you do anything the Jabber protocol allows. 

%package devel
Summary:	Development files for RoadRunner..
Group: 		Development/Libraries
Requires:	%name = %{PACKAGE_VERSION}
Requires:	glib2-devel >= @GLIB2_REQUIRED@

%description devel
Loudmouth is a lightweight and easy-to-use C library for programming with the Jabber protocol. It's designed to be easy to get started with and yet extensible to let you do anything the Jabber protocol allows. 

%prep
%setup -q

%build

%configure --enable-gtk-doc
make

%install
rm -rf %{buildroot}
%makeinstall 

# remove, not shipped
rm -f $RPM_BUILD_ROOT%{_libdir}/libloudmouth.la

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
%doc ChangeLog NEWS README COPYING
%{_libdir}/libloudmouth*.so.*

%files devel
%defattr(-,root,root)
%{_libdir}/libloudmouth*.so
%{_libdir}/libloudmouth*.a
%{_libdir}/pkgconfig/*
%{_prefix}/include/loudmouth-1.0
%{_datadir}/gtk-doc/html/loudmouth

%changelog
* Sat Mar 29 2003 Mikael Hallendal <micke@codefactory.se>
- Initial build
